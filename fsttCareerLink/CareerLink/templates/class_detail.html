{% extends 'base.html' %}

{% block content %}

<style>

    .top-section .cover-bx {
        width: 95%;
        margin: 1rem auto;
        border-radius: 2rem;
        position: relative;
        height: 250px;
    }

    .top-section .cover-bx .class-info {
        position: absolute;
        bottom: 1rem;
        left: 1.5rem;
        font-size: 1.5rem;
    }

    .form-container {
        margin-top: 1rem;
    }


        .create-post {

            width: 90%;
            display: flex;
            align-items: flex-start;
            flex-direction: column;
            margin: 3rem 0;
            background: var(--color-white);
            padding: 0.4rem var(--card-padding);
            border-radius: var(--border-radius);
            margin: auto;
            gap: 1rem;
            width: 80%;
            height: 500px;

        }

        .class-detail-container {
            width: 80%;
            display: flex;
            justify-content: flex-end;
            margin: auto;
        }

        .feeds {
            width: 100%;
        }
</style>

<div class="top-section">
    <div class="cover-bx" style="background-image: url('{{ class_instance.class_cover.url }}')">
        <div class="class-info">
            <h2>{{ class_instance.title }}</h2>
            <p>{{ class_instance.teacher.user }}</p>

        </div>
    </div>
    <div class="class-action">
        <button type="button" class="modal-trigger btn" data-form-type="assignment">Create Assignment</button>
        <button type="button" class="modal-trigger btn" data-form-type="announcement">Create Announcement</button>
        <button class="btn modal-trigger">start exam</button>
    </div>
</div>

<div class="create-post" >
    {% include 'create_announcement.html' %}

</div>

<div class="class-detail-container">
    <div class="feeds">
        {% for announcement in announcements %}
    
        <div class="feed">
            <div class="head">
                <div class="user">
                    <div class="profile-photo">
                        <img src="{{ announcement.class_instance.teacher.user.profile_pic.url }}">
                    </div>
                    <div class="info">
                        <h3>{{announcement.class_instance.teacher}}</h3>
                        <small>{{announcement.created_at}}</small>
                    </div>
                </div>
                <span class="edit">
                    <i class="uil uil-ellipsis-h"></i>
                </span>
            </div>
    
            <div class="caption">
                <br>
                <p> {{announcement.content}}
                <span class="harsh-tag">#lifestyle</span></p>
            </div>
            {% if announcement.photo %}
    
            <div class="photo">
                <img src="{{announcement.photo.url}}">
            </div>
            {% endif%}
        </div>
        {% endfor %}
    
    </div>

</div>





<div class="overlay">
    <div class="modal  announcement-modal">
        {% include 'create_announcement.html' %}

    </div>
    <div class="modal  assignment-modal">
        {% include 'create_assignment.html' %}

    </div>
</div>




{% endblock %}