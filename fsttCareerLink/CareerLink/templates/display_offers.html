{% extends 'base.html' %}

{% block content %}


<style>

    .jobs-list-container {
        width: 60%;
        margin: auto;
    }
    .job-offer {
        display: flex;
        align-items: center;
        gap: 2rem;
        width: 100%;
        height: 200px;
        justify-content: flex-start;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 2px 2px 5px rgb(214, 214, 214);

    }

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: .5rem;

    }

    .company-img {
        width: 50px;
        height: 50px;
        border-radius: .5rem;

    }

    .job-offer .job-info, .job-offer .offer-info {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

</style>

<div class="jobs-list-container">
    {% for offer in offers %}

    <div class="job-offer">
        <div class="company-img">
            <img src="{{ offer.creator.profile_pic.url }}" alt="">
        </div>
        <div class="job-info">
            <h2 class="company-name">{{offer.creator.username}}</h2>
            <h4 class="job-position">{{ offer.title }}</h4>
            <p class="job-address">{{offer.location}}</p>
            <p><span class="created-at">{{ offer.created_at }}</span></p>
        </div>
        <div class="offer-info">
            <h2>{{offer.type}}</h2>
            <p>{{offer.skills_required}}</p>
            <p class="salary">{{offer.salary}} MAD / MONTH</p>
        </div>
        <div class="offer-details">
            <div class="apply-button">
                {% if request.user.role == 'ENTERPRISE' %}
                <a class="apply-btn btn " href="{% url 'applications_list' offer_id=offer.offer_id %}">See Details</a>
                {% else %}
                <a class="apply-btn btn " href="{% url 'apply_for_offer' offer_id=offer.offer_id %}">Apply</a>
                {% endif %}
            </div>
        </div>


    </div>
    {% endfor %}
  </div>


{% endblock %}